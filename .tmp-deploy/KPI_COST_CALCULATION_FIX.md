# ๐ง ุฅุตูุงุญ ุญุณุงุจุงุช ูุคุดุฑุงุช ุงูุฃุฏุงุก (KPI)

## ๐ ุงููุดููุฉ ุงูุฃุตููุฉ

ูุงูุช ุตูุญุฉ ูุคุดุฑุงุช ุงูุฃุฏุงุก ุชุญุณุจ **ุงููุชูุณุท ููู ุฑุฃุณ** ูู ุฌููุน ุงูุญุงูุงุชุ ููุง ูุณุจุจ:
- โ ุนูุฏ ุงุฎุชูุงุฑ "ุฌููุน ุงูุฏูุนุงุช" โ ูุธูุฑ ูุชูุณุท ุงูุชูููุฉ ููู ุฑุฃุณ ุจุฏูุงู ูู **ุงูุฅุฌูุงูู**
- โ ุนูุฏ ุงุฎุชูุงุฑ ุฏูุนุฉ ูุงุญุฏุฉ โ ูุธูุฑ ูุชูุณุท ุงูุชูููุฉ ุจุฏูุงู ูู **ุฅุฌูุงูู ุงูุฏูุนุฉ**
- โ ุนุฏู ูุถูุญ ุงููุฑู ุจูู ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ ูุงููุชูุณุท

---

## โ ุงูุญู ุงููุทุจู

### 1. **ุฅุนุงุฏุฉ ููููุฉ ุงูุญุณุงุจุงุช**

#### ุงูููุฏ ุงููุฏูู (ุฎุทุฃ):
```typescript
// ูุงู ูุญุณุจ ุงููุชูุณุท ููุท
const batchStats = {
  cost: filteredAnimals.reduce((sum, a) => sum + a.cost, 0) / filteredAnimals.length || 2450,
};
```

#### ุงูููุฏ ุงูุฌุฏูุฏ (ุตุญูุญ):
```typescript
const calculateStats = () => {
  // 1. ุญููุงู ูุงุญุฏ โ ุชูููุฉ ุงูุญููุงู
  if (viewMode === "individual" && currentAnimal) {
    return {
      cost: currentAnimal.cost, // ุชูููุฉ ุงูุญููุงู ุงููุงุญุฏ
      totalAnimals: 1
    };
  }
  
  // 2. ุฏูุนุฉ ุฃู ุฌููุน ุงูุฏูุนุงุช โ ุงูุฅุฌูุงูู
  const totalCost = animals.reduce((sum, a) => sum + a.cost, 0);
  
  return {
    adg: avgAdg,         // ูุชูุณุท ุงูุฒูุงุฏุฉ ุงูููููุฉ
    fcr: avgFcr,         // ูุชูุณุท ูุนุฏู ุงูุชุญููู
    cost: totalCost,     // ุฅุฌูุงูู ุงูุชูููุฉ (ูุฌููุน ุงูุญููุงูุงุช)
    survival: avgSurvival,
    totalAnimals: animals.length
  };
};
```

---

## ๐ ุงูุณููุงุฑูููุงุช ุงููุฎุชููุฉ

### ุงูุณููุงุฑูู 1๏ธโฃ: ุฌููุน ุงูุฏูุนุงุช

**ุงูุงุฎุชูุงุฑ:**
```
ูุถุน ุงูุนุฑุถ: ุญุณุจ ุงูุฏูุนุฉ
ุงูุฏูุนุฉ: ุฌููุน ุงูุฏูุนุงุช
```

**ุงูุจูุงูุงุช:**
```typescript
ุญููุงู 1: 2300 ุฌ
ุญููุงู 2: 2400 ุฌ  
ุญููุงู 3: 2250 ุฌ
ุญููุงู 4: 2500 ุฌ
ุญููุงู 5: 2450 ุฌ
```

**ุงููุชูุฌุฉ:**
```
โ ุงูุชูููุฉ ุงููุนุฑูุถุฉ: 11,900 ุฌ (ุฅุฌูุงูู)
โ ุนุฏุฏ ุงูุญููุงูุงุช: 5
โ ูุชูุณุท/ุฑุฃุณ: 2,380 ุฌ (ูุธูุฑ ูู ุงูุชูุงุตูู)
```

**ุงูุจุทุงูุฉ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุฅุฌูุงูู ุงูุชูุงููู               โ
โ 11,900 ุฌ                      โ
โ ุฅุฌูุงูู 5 ุฑุฃุณ                  โ
โ ูุชูุณุท/ุฑุฃุณ: 2,380 ุฌ            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### ุงูุณููุงุฑูู 2๏ธโฃ: ุฏูุนุฉ ูุงุญุฏุฉ

**ุงูุงุฎุชูุงุฑ:**
```
ูุถุน ุงูุนุฑุถ: ุญุณุจ ุงูุฏูุนุฉ
ุงูุฏูุนุฉ: ุงูุฏูุนุฉ 1
```

**ุงูุจูุงูุงุช:**
```typescript
ุญููุงู 1 (ุฏูุนุฉ 1): 2300 ุฌ
ุญููุงู 2 (ุฏูุนุฉ 1): 2400 ุฌ
```

**ุงููุชูุฌุฉ:**
```
โ ุงูุชูููุฉ ุงููุนุฑูุถุฉ: 4,700 ุฌ (ุฅุฌูุงูู ุงูุฏูุนุฉ)
โ ุนุฏุฏ ุงูุญููุงูุงุช: 2
โ ูุชูุณุท/ุฑุฃุณ: 2,350 ุฌ
```

**ุงูุจุทุงูุฉ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุฅุฌูุงูู ุชูุงููู ุงูุฏูุนุฉ          โ
โ 4,700 ุฌ                       โ
โ ุฅุฌูุงูู 2 ุฑุฃุณ                  โ
โ ูุชูุณุท/ุฑุฃุณ: 2,350 ุฌ            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

### ุงูุณููุงุฑูู 3๏ธโฃ: ุญููุงู ูุงุญุฏ

**ุงูุงุฎุชูุงุฑ:**
```
ูุถุน ุงูุนุฑุถ: ูุฑุฏู (ุญููุงู ูุงุญุฏ)
ุงูุญููุงู: ุญููุงู 001 (A001)
```

**ุงูุจูุงูุงุช:**
```typescript
ุญููุงู 001: {
  cost: 2300 ุฌ,
  adg: 0.92 ูุฌู,
  fcr: 2.9,
  survival: 100%
}
```

**ุงููุชูุฌุฉ:**
```
โ ุงูุชูููุฉ ุงููุนุฑูุถุฉ: 2,300 ุฌ (ุชูููุฉ ุงูุญููุงู)
โ ุนุฏุฏ ุงูุญููุงูุงุช: 1
โ ูุง ููุฌุฏ ูุชูุณุท (ุญููุงู ูุงุญุฏ ููุท)
```

**ุงูุจุทุงูุฉ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุชูููุฉ ุงูุญููุงู                 โ
โ 2,300 ุฌ                       โ
โ ุชูููุฉ ุญููุงู ูุงุญุฏ              โ
โ ูุชูุณุท/ุฑุฃุณ: 2,300 ุฌ            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฏ ุงููุคุดุฑุงุช ุงูุฃุฎุฑู

### ADG - ูุชูุณุท ุงูุฒูุงุฏุฉ ุงูููููุฉ
```typescript
// ุฏุงุฆูุงู ูุชูุณุท (ุญุชู ูู ูุงูุช ุนุฏุฉ ุฏูุนุงุช)
adg: animals.reduce((sum, a) => sum + a.adg, 0) / totalCount
```

**ูุซุงู:**
- ุงูุฏูุนุงุช: [0.92, 0.88, 0.95, 0.85, 0.90] ูุฌู
- **ุงููุชูุฌุฉ: 0.90 ูุฌู** (ูุชูุณุท)

---

### FCR - ูุนุฏู ุชุญููู ุงูุนูู
```typescript
// ุฏุงุฆูุงู ูุชูุณุท
fcr: animals.reduce((sum, a) => sum + a.fcr, 0) / totalCount
```

**ูุซุงู:**
- ุงูุฏูุนุงุช: [2.9, 3.1, 2.8, 3.2, 3.0]
- **ุงููุชูุฌุฉ: 3.0** (ูุชูุณุท)

---

### Survival Rate - ูุนุฏู ุงูุจูุงุก
```typescript
// ุฏุงุฆูุงู ูุชูุณุท
survival: animals.reduce((sum, a) => sum + a.survival, 0) / totalCount
```

**ูุซุงู:**
- ุงูุฏูุนุงุช: [100%, 100%, 100%, 100%, 100%]
- **ุงููุชูุฌุฉ: 100%** (ูุชูุณุท)

---

## ๐จ ุงูุชุญุณููุงุช ูู ุงููุงุฌูุฉ

### 1. ุนููุงู ุฏููุงูููู ููุจุทุงูุฉ
```typescript
{viewMode === "individual" && currentAnimal 
  ? "ุชูููุฉ ุงูุญููุงู" 
  : selectedBatch === "all"
  ? "ุฅุฌูุงูู ุงูุชูุงููู"
  : "ุฅุฌูุงูู ุชูุงููู ุงูุฏูุนุฉ"}
```

### 2. ุชูุถูุญ ุนุฏุฏ ุงูุญููุงูุงุช
```typescript
{`ุฅุฌูุงูู ${displayStats.totalAnimals} ุฑุฃุณ`}
```

### 3. ุนุฑุถ ุงููุชูุณุท ููู ุฑุฃุณ
```typescript
ูุชูุณุท/ุฑุฃุณ: {Math.round(displayStats.cost / displayStats.totalAnimals).toLocaleString()} ุฌ
```

### 4. Badges ูุนูููุงุชูุฉ
```tsx
<Badge variant="outline">
  ๐ ุนุฏุฏ ุงูุญููุงูุงุช: {displayStats.totalAnimals}
</Badge>

{displayStats.totalAnimals > 1 && (
  <Badge variant="outline">
    ๐ฐ ูุชูุณุท ุงูุชูููุฉ/ุฑุฃุณ: {Math.round(displayStats.cost / displayStats.totalAnimals).toLocaleString()} ุฌ
  </Badge>
)}
```

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ูุฒุฑุนุฉ ุจูุง 3 ุฏูุนุงุช

```
ุงูุฏูุนุฉ 1: 50 ุฑุฃุณ ร ูุชูุณุท 2,300 ุฌ = 115,000 ุฌ
ุงูุฏูุนุฉ 2: 40 ุฑุฃุณ ร ูุชูุณุท 2,450 ุฌ = 98,000 ุฌ
ุงูุฏูุนุฉ 3: 35 ุฑุฃุณ ร ูุชูุณุท 2,200 ุฌ = 77,000 ุฌ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงูุฅุฌูุงูู: 125 ุฑุฃุณ = 290,000 ุฌ
```

**ุนูุฏ ุงุฎุชูุงุฑ "ุฌููุน ุงูุฏูุนุงุช":**
- โ ุงูุชูููุฉ: **290,000 ุฌ** (ุฅุฌูุงูู)
- โ ุนุฏุฏ ุงูุญููุงูุงุช: **125**
- โ ูุชูุณุท/ุฑุฃุณ: **2,320 ุฌ**

**ุนูุฏ ุงุฎุชูุงุฑ "ุงูุฏูุนุฉ 1":**
- โ ุงูุชูููุฉ: **115,000 ุฌ** (ุฅุฌูุงูู ุงูุฏูุนุฉ)
- โ ุนุฏุฏ ุงูุญููุงูุงุช: **50**
- โ ูุชูุณุท/ุฑุฃุณ: **2,300 ุฌ**

---

## ๐ ุงูุชุญูู ูู ุงูุตุญุฉ

### ุงุฎุชุจุงุฑ 1: ุฌููุน ุงูุฏูุนุงุช
```typescript
const allAnimals = [
  { cost: 2300 }, { cost: 2400 }, 
  { cost: 2250 }, { cost: 2500 }, 
  { cost: 2450 }
];

const totalCost = allAnimals.reduce((sum, a) => sum + a.cost, 0);
console.log(totalCost); // โ 11,900 ุฌ

const avgCost = totalCost / allAnimals.length;
console.log(avgCost); // โ 2,380 ุฌ
```

### ุงุฎุชุจุงุฑ 2: ุฏูุนุฉ ูุงุญุฏุฉ
```typescript
const batch1 = [
  { cost: 2300 }, { cost: 2400 }
];

const totalCost = batch1.reduce((sum, a) => sum + a.cost, 0);
console.log(totalCost); // โ 4,700 ุฌ

const avgCost = totalCost / batch1.length;
console.log(avgCost); // โ 2,350 ุฌ
```

### ุงุฎุชุจุงุฑ 3: ุญููุงู ูุงุญุฏ
```typescript
const animal = { cost: 2300 };

console.log(animal.cost); // โ 2,300 ุฌ
```

---

## ๐ ููุฎุต ุงูุชุบููุฑุงุช

### ููู: `client/src/pages/KPI.tsx`

| ุงูุจูุฏ | ูุจู | ุจุนุฏ |
|-------|-----|-----|
| **ุงูุชูููุฉ** | ูุชูุณุท/ุฑุฃุณ | ุฅุฌูุงูู (ูุฌููุน ุงูุญููุงูุงุช) |
| **ADG** | ูุชูุณุท | ูุชูุณุท (ูู ูุชุบูุฑ) |
| **FCR** | ูุชูุณุท | ูุชูุณุท (ูู ูุชุบูุฑ) |
| **ูุนุฏู ุงูุจูุงุก** | ูุชูุณุท | ูุชูุณุท (ูู ูุชุบูุฑ) |
| **ุนููุงู ุงูุจุทุงูุฉ** | ุซุงุจุช | ุฏููุงูููู ุญุณุจ ุงูุงุฎุชูุงุฑ |
| **ุนุฏุฏ ุงูุญููุงูุงุช** | ุบูุฑ ูุนุฑูุถ | ูุนุฑูุถ ูู Badge |
| **ูุชูุณุท/ุฑุฃุณ** | ูู ุงูุนููุงู | ูู ุงูุชูุงุตูู ุงูุตุบูุฑุฉ |

---

## โ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### โ ูุง ุชู ุฅุตูุงุญู:
1. **ุฅุฌูุงูู ุงูุชูุงููู** ุนูุฏ ุงุฎุชูุงุฑ "ุฌููุน ุงูุฏูุนุงุช"
2. **ุฅุฌูุงูู ุชูุงููู ุงูุฏูุนุฉ** ุนูุฏ ุงุฎุชูุงุฑ ุฏูุนุฉ ูุงุญุฏุฉ
3. **ุชูููุฉ ุงูุญููุงู** ุนูุฏ ุงุฎุชูุงุฑ ุญููุงู ูุงุญุฏ
4. ุนุฑุถ **ุนุฏุฏ ุงูุญููุงูุงุช** ุจูุถูุญ
5. ุนุฑุถ **ูุชูุณุท ุงูุชูููุฉ/ุฑุฃุณ** ูู ุงูุชูุงุตูู
6. ุนูุงููู **ุฏููุงููููุฉ** ุชูุถุญ ููุน ุงูุจูุงูุงุช

### โ ุงููุญุงูุธุฉ ุนูู:
- ูุชูุณุท ADG (ุตุญูุญ ููุชูุณุท)
- ูุชูุณุท FCR (ุตุญูุญ ููุชูุณุท)
- ูุชูุณุท ูุนุฏู ุงูุจูุงุก (ุตุญูุญ ููุชูุณุท)

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ููุญุตูู ุนูู ุฅุฌูุงูู ุชูุงููู ุฌููุน ุงูุฏูุนุงุช:
```
1. ุงุฎุชุฑ "ุญุณุจ ุงูุฏูุนุฉ"
2. ุงุฎุชุฑ "ุฌููุน ุงูุฏูุนุงุช"
3. ุณุชุธูุฑ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ ูุฌููุน ุงูุญููุงูุงุช
```

### ููุญุตูู ุนูู ุฅุฌูุงูู ุชูุงููู ุฏูุนุฉ ูุงุญุฏุฉ:
```
1. ุงุฎุชุฑ "ุญุณุจ ุงูุฏูุนุฉ"
2. ุงุฎุชุฑ "ุงูุฏูุนุฉ 1" (ูุซูุงู)
3. ุณุชุธูุฑ ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ ููุฏูุนุฉ
```

### ููุญุตูู ุนูู ุชูููุฉ ุญููุงู ูุงุญุฏ:
```
1. ุงุฎุชุฑ "ูุฑุฏู (ุญููุงู ูุงุญุฏ)"
2. ุงุฎุชุฑ ุงูุญููุงู ูู ุงููุงุฆูุฉ
3. ุณุชุธูุฑ ุชูููุฉ ุงูุญููุงู ุงููุญุฏุฏ
```

---

**ุงูุชุงุฑูุฎ:** 11 ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ุชู ุงูุฅุตูุงุญ ูุงูุงุฎุชุจุงุฑ
