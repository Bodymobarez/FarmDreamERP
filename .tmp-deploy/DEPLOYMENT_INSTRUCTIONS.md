# ๐ ุชุนูููุงุช ูุดุฑ ุงูุชุญุฏูุซุงุช

## โ๏ธ ููู: ุงุฎุชูุงุฑ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ุนูุฏ ุชุดุบูู `npm run db:push`

ุนูุฏ ุชุดุบูู ุงูุฃูุฑุ ุณูุณุฃูู Drizzle ุนุฏุฉ ุฃุณุฆูุฉ. ุฅููู ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ:

### โ ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช

#### 1. ุณุคุงู ุนู `treatment_number` ูู ุฌุฏูู `veterinary_treatments`
```
Is treatment_number column in veterinary_treatments table created or renamed from another column?
```

**ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ**: 
```
โ + treatment_number        create column
```
**ุชูุณูุฑ**: ูุฐุง ุนููุฏ ุฌุฏูุฏุ ูููุณ ุฅุนุงุฏุฉ ุชุณููุฉ ูุนููุฏ ููุฌูุฏ

---

#### 2. ุฃุณุฆูุฉ ูุดุงุจูุฉ ูุฏ ุชุธูุฑ ููุญููู ุงูุฌุฏูุฏุฉ ุงูุฃุฎุฑู

##### `breed` ูู ุฌุฏูู `animals`
**ุงูุฅุฌุงุจุฉ**: `+ breed        create column`

##### `barnId` ูู ุฌุฏูู `batches`
**ุงูุฅุฌุงุจุฉ**: `+ barnId        create column`

##### `barnId` ูู ุฌุฏูู `receptions`
**ุงูุฅุฌุงุจุฉ**: `+ barnId        create column`

##### `distributionStatus` ูู ุฌุฏูู `receptions`
**ุงูุฅุฌุงุจุฉ**: `+ distributionStatus        create column`

---

## ๐ ุงูุทุฑููุฉ ุงูุจุฏููุฉ (ุฅุฐุง ูุงู ููุงู ูุดููุฉ)

ุฅุฐุง ูุงุฌูุช ูุดุงููุ ููููู ุงุณุชุฎุฏุงู Migration Files:

### 1. ุฅูุดุงุก ูููุงุช Migration
```bash
npx drizzle-kit generate
```

### 2. ูุฑุงุฌุนุฉ ุงููููุงุช ุงูููุดุฃุฉ ูู ูุฌูุฏ `migrations`

### 3. ุชุทุจูู Migrations ูุฏููุงู
```bash
npx drizzle-kit migrate
```

---

## ๐ ุงูุฃุนูุฏุฉ ุงูุฌุฏูุฏุฉ ุงูุชู ุณูุชู ุฅูุดุงุคูุง

### ุฌุฏุงูู ุฌุฏูุฏุฉ ูุงููุฉ:
1. โ `barns` - ุฌุฏูู ุงูุนูุงุจุฑ
2. โ `weight_records` - ุฌุฏูู ุณุฌูุงุช ุงูุฃูุฒุงู
3. โ `feed_records` - ุฌุฏูู ุณุฌูุงุช ุงูุฃุนูุงู

### ุฃุนูุฏุฉ ุฌุฏูุฏุฉ ูู ุฌุฏุงูู ููุฌูุฏุฉ:

#### `animals`:
- `breed` - ุงูุณูุงูุฉ
- `birthDate` - ุชุงุฑูุฎ ุงูููุงุฏุฉ
- `barnId` - ุฑุจุท ูุน ุงูุนูุจุฑ
- `receptionId` - ุฑุจุท ูุน ุงูุงุณุชูุจุงู
- `purchasePrice` - ุณุนุฑ ุงูุดุฑุงุก
- `healthStatus` - ุงูุญุงูุฉ ุงูุตุญูุฉ
- `saleDate` - ุชุงุฑูุฎ ุงูุจูุน
- `saleWeight` - ูุฒู ุงูุจูุน
- `salePrice` - ุณุนุฑ ุงูุจูุน

#### `batches`:
- `barnId` - ุฑุจุท ูุน ุงูุนูุจุฑ
- `expectedCloseDate` - ุชุงุฑูุฎ ุงูุฅุบูุงู ุงููุชููุน
- `currentAnimals` - ุนุฏุฏ ุงูุญููุงูุงุช ุงูุญุงููุฉ
- `laborCost` - ุชูููุฉ ุงูุนูุงูุฉ

#### `receptions`:
- `batchId` - ุฑุจุท ูุน ุงูุฏูุนุฉ
- `barnId` - ุฑุจุท ูุน ุงูุนูุจุฑ
- `supplierName` - ุงุณู ุงูููุฑุฏ
- `breed` - ุงูุณูุงูุฉ
- `averageWeight` - ูุชูุณุท ุงููุฒู
- `transportCost` - ุชูููุฉ ุงูููู
- `distributionStatus` - ุญุงูุฉ ุงูุชูุฒูุน
- `paidAmount` - ุงููุจูุบ ุงููุฏููุน
- `remainingAmount` - ุงููุจูุบ ุงููุชุจูู
- `animalType` - ููุน ุงูุญููุงู
- `otherCosts` - ุชูุงููู ุฃุฎุฑู

#### `veterinary_treatments`:
- `treatmentNumber` - ุฑูู ุงูุนูุงุฌ โญ (ูุฐุง ุงูุฐู ุณุฃู ุนูู)
- `batchId` - ุฑุจุท ูุน ุงูุฏูุนุฉ
- `symptoms` - ุงูุฃุนุฑุงุถ
- `frequency` - ุชูุฑุงุฑ ุงูุฌุฑุนุฉ
- `duration` - ูุฏุฉ ุงูุนูุงุฌ
- `medicationCost` - ุชูููุฉ ุงูุฃุฏููุฉ
- `consultationCost` - ุชูููุฉ ุงูุงุณุชุดุงุฑุฉ
- `otherCosts` - ุชูุงููู ุฃุฎุฑู
- `totalCost` - ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ
- `followUpDate` - ุชุงุฑูุฎ ุงููุชุงุจุนุฉ
- `followUpRequired` - ูู ุงููุชุงุจุนุฉ ูุทููุจุฉ
- `outcome` - ูุชูุฌุฉ ุงูุนูุงุฌ

---

## โ ุงูุฎุทูุงุช ุงูููุงุฆูุฉ ุจุนุฏ ุงูุชุทุจูู

### 1. ุชุฃูุฏ ูู ูุฌุงุญ ุงูุชุทุจูู
```bash
npm run db:push
```
ูุฌุจ ุฃู ุชุฑู: `โ Changes applied`

### 2. ุดุบูู ุงูุฎุงุฏู
```bash
npm run dev
```

### 3. ุงุฎุชุจุฑ API
```bash
# ุงุฎุชุจุฑ ุงูุนูุงุจุฑ
curl http://localhost:5001/api/barns

# ุงุฎุชุจุฑ ุณุฌู ุงูุฃูุฒุงู
curl http://localhost:5001/api/weight-records

# ุงุฎุชุจุฑ ุณุฌู ุงูุฃุนูุงู
curl http://localhost:5001/api/feed-records
```

---

## ๐ ุชู!

ุจุนุฏ ุฅุชูุงู ูุฐู ุงูุฎุทูุงุชุ ุณูููู ุงููุธุงู ุฌุงูุฒุงู ุจุงููุงูู ูุน ุฌููุน ุงููุฏูููุงุช ูุฑุจูุทุฉ!

**ููุงุญุธุฉ**: ุฌููุน ุงูุญููู ุงูุฌุฏูุฏุฉ ุงุฎุชูุงุฑูุฉ (nullable)ุ ูุฐูู ูู ุชุชุฃุซุฑ ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ.

