# ๐ฏ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃูุฏุงู - Performance Goals Module

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุชุทูุฑ ูุชุชุจุน ูุฅุฏุงุฑุฉ ุฃูุฏุงู ุงูุฃุฏุงุก ูู ุงููุฒุฑุนุฉุ ูุฑุจุท ุจูู ูุคุดุฑุงุช ุงูุฃุฏุงุก (KPIs) ูุงูุฃูุฏุงู ุงููุญุฏุฏุฉุ ููููุฑ ุชูุจููุงุช ุชููุงุฆูุฉ ุนูุฏ ุชุญููู ุงูุฃูุฏุงู ุฃู ุงููุดู ูููุง.

---

## ๐ฏ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฅุฏุงุฑุฉ ุงูุฃูุฏุงู
- โ ุชุญุฏูุฏ ุฃูุฏุงู ููุคุดุฑุงุช ุฃุฏุงุก ูุชุนุฏุฏุฉ
- โ ุฑุจุท ุงูุฃูุฏุงู ุจุฏูุนุงุช ูุญุฏุฏุฉ ุฃู ุนุงูุฉ
- โ ุชุญุฏูุฏ ุฃููููุงุช ุงูุฃูุฏุงู (ุญุฑุฌุฉุ ุนุงููุฉุ ูุชูุณุทุฉุ ููุฎูุถุฉ)
- โ ุชุญุฏูุฏ ุชูุงุฑูุฎ ุจุฏุงูุฉ ูููุงูุฉ ููู ูุฏู

### 2. ุชุชุจุน ุงูุชูุฏู
- โ ุญุณุงุจ ุชููุงุฆู ููุณุจุฉ ุงูุชูุฏู
- โ ูุคุดุฑุงุช ุจุตุฑูุฉ ููููุฉ (ุฃุฎุถุฑ/ุฃุฒุฑู/ุฃุตูุฑ/ุฃุญูุฑ)
- โ ุชุญุฏูุซ ุชููุงุฆู ููููู ุงูุญุงููุฉ
- โ ุฅุดุนุงุฑุงุช ุนูุฏ ุชุญููู ุงูุฃูุฏุงู

### 3. ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช
- โ ูุณุจุฉ ุงููุฌุงุญ ุงูุฅุฌูุงููุฉ
- โ ุนุฏุฏ ุงูุฃูุฏุงู ุงููุดุทุฉ/ุงููุญููุฉ/ุงููุงุดูุฉ
- โ ุชูุงุฑูุฑ ุชูุตูููุฉ ููู ูุฏู
- โ ุชุงุฑูุฎ ุงูุฃูุฏุงู ุงููุญููุฉ

---

## ๐ ุฃููุงุน ุงูุฃูุฏุงู ุงููุฏุนููุฉ

### 1. ADG - ูุนุฏู ุงูููู ุงููููู
```typescript
{
  goalType: "adg",
  targetValue: "1.2",  // ูุฌู/ููู
  unit: "ูุฌู/ููู"
}
```
**ูุซุงู:** ุงููุตูู ููุนุฏู ููู 1.2 ูุฌู ููููุงู

### 2. FCR - ูุนุงูู ุงูุชุญููู ุงูุบุฐุงุฆู
```typescript
{
  goalType: "fcr",
  targetValue: "2.5",  // ุฃูู = ุฃูุถู
  unit: ""
}
```
**ูุซุงู:** ุชุญุณูู FCR ููุตู ุฅูู 2.5 ุฃู ุฃูู

### 3. Survival Rate - ูุนุฏู ุงูุจูุงุก
```typescript
{
  goalType: "survival_rate",
  targetValue: "97",   // ูุณุจุฉ ูุฆููุฉ
  unit: "%"
}
```
**ูุซุงู:** ุงููุตูู ููุนุฏู ุจูุงุก 97% ุฃู ุฃูุซุฑ

### 4. Cost Per Head - ุงูุชูููุฉ ููู ุฑุฃุณ
```typescript
{
  goalType: "cost_per_head",
  targetValue: "2000",  // ุฃูู = ุฃูุถู
  unit: "ุฌ"
}
```
**ูุซุงู:** ุชูููู ุงูุชูููุฉ ููู ุฑุฃุณ ุฅูู 2000 ุฌ ุฃู ุฃูู

### 5. Profit - ุงูุฑุจุญ
```typescript
{
  goalType: "profit",
  targetValue: "50000",
  unit: "ุฌ"
}
```
**ูุซุงู:** ุชุญููู ุฑุจุญ 50,000 ุฌ

### 6. Weight Gain - ุงูุฒูุงุฏุฉ ูู ุงููุฒู
```typescript
{
  goalType: "weight_gain",
  targetValue: "150",
  unit: "ูุฌู"
}
```
**ูุซุงู:** ุฒูุงุฏุฉ ูุฒู ุงูุฏูุนุฉ ุจููุฏุงุฑ 150 ูุฌู

### 7. Feed Efficiency - ููุงุกุฉ ุงูุฃุนูุงู
```typescript
{
  goalType: "feed_efficiency",
  targetValue: "85",
  unit: "%"
}
```
**ูุซุงู:** ุงููุตูู ูููุงุกุฉ ุฃุนูุงู 85%

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู: `performance_goals`

```sql
CREATE TABLE performance_goals (
  id VARCHAR PRIMARY KEY,
  goal_name VARCHAR(255) NOT NULL,           -- ุงุณู ุงููุฏู
  goal_type VARCHAR(50) NOT NULL,            -- ููุน ุงููุฏู
  target_value DECIMAL(10,2) NOT NULL,       -- ุงููููุฉ ุงููุณุชูุฏูุฉ
  current_value DECIMAL(10,2) DEFAULT 0,     -- ุงููููุฉ ุงูุญุงููุฉ
  unit VARCHAR(20),                          -- ุงููุญุฏุฉ
  batch_id VARCHAR(255),                     -- ุฑุจุท ุจุฏูุนุฉ (ุงุฎุชูุงุฑู)
  start_date TIMESTAMP DEFAULT NOW(),
  end_date TIMESTAMP,
  status VARCHAR(20) DEFAULT 'active',       -- active, achieved, failed, expired
  achieved_date TIMESTAMP,                   -- ุชุงุฑูุฎ ุงูุชุญููู
  priority VARCHAR(20) DEFAULT 'medium',     -- low, medium, high, critical
  description TEXT,
  notes TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

---

## ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู

### ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ `/goals`

#### 1. ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ
```
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโ
โ ุงูุฃูุฏุงู ุงููุดุทุฉ โ  ุงูุฃูุฏุงู ุงููุญููุฉ โ  ุงูุฃูุฏุงู ุงููุงุดูุฉ โ   ูุณุจุฉ ุงููุฌุงุญ  โ
โ       8         โ        12        โ         2        โ      85.7%      โ
โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโ
```

#### 2. ุจุทุงูุฉ ุงููุฏู
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุชุญุณูู ูุนุฏู ุงูููู ุงููููู                         [ุนุงููุฉ] [ูุดุท] โ
โ ูุนุฏู ุงูููู ุงููููู (ADG)                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงููููุฉ ุงููุณุชูุฏูุฉ      ุงููููุฉ ุงูุญุงููุฉ          ูุณุจุฉ ุงูุชูุฏู   โ
โ   1.20 ูุฌู/ููู          1.15 ูุฌู/ููู              95.8%     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [โโโโโโโโโโโโโโโโโโโโโโ] 95.8%                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุจุฏุฃ: 1 ููุงูุฑ 2025    ููุชูู: 31 ูุงุฑุณ 2025                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ข ุญุณุงุจ ูุณุจุฉ ุงูุชูุฏู

### ูููุคุดุฑุงุช ุงูุชู "ุงูุฃูุซุฑ ุฃูุถู" (ADG, Survival Rate, Profit):
```typescript
progress = (currentValue / targetValue) * 100
```

**ูุซุงู:**
- ุงููุฏู: ADG = 1.2 ูุฌู
- ุงูุญุงูู: 1.15 ูุฌู
- ุงูุชูุฏู: (1.15 / 1.2) ร 100 = **95.8%**

### ูููุคุดุฑุงุช ุงูุชู "ุงูุฃูู ุฃูุถู" (FCR, Cost):
```typescript
progress = (targetValue / currentValue) * 100
```

**ูุซุงู:**
- ุงููุฏู: FCR = 2.5
- ุงูุญุงูู: 2.8
- ุงูุชูุฏู: (2.5 / 2.8) ร 100 = **89.3%**

---

## ๐จ ุงูุฃููุงู ูุงููุคุดุฑุงุช

### ุฃููุงู ุงูุชูุฏู:
```css
100%+   : ุฃุฎุถุฑ  #10b981  โ ุชู ุงูุชุญููู
75-99%  : ุฃุฒุฑู   #3b82f6  ๐ต ูุฑูุจ ูู ุงููุฏู
50-74%  : ุฃุตูุฑ   #f59e0b  โ๏ธ ูุญุชุงุฌ ุฌูุฏ
0-49%   : ุฃุญูุฑ   #ef4444  โ ุจุนูุฏ ุนู ุงููุฏู
```

### ุฃููุงู ุงูุญุงูุฉ:
```css
achieved : ุฃุฎุถุฑ  #22c55e  โ ูุญูู
active   : ุฃุฒุฑู   #3b82f6  ๐ต ูุดุท
failed   : ุฃุญูุฑ   #ef4444  โ ูุงุดู
expired  : ุฑูุงุฏู  #6b7280  โฐ ููุชูู
```

### ุฃููุงู ุงูุฃููููุฉ:
```css
critical : ุฃุญูุฑ     #fee2e2  ๐ด ุญุฑุฌุฉ
high     : ุจุฑุชูุงูู  #fed7aa  ๐ ุนุงููุฉ
medium   : ุฃุตูุฑ     #fef3c7  ๐ก ูุชูุณุทุฉ
low      : ุฃุฎุถุฑ     #d1fae5  ๐ข ููุฎูุถุฉ
```

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ูุฏู ุชุญุณูู ADG ููุฏูุนุฉ ุงูุฃููู
```typescript
{
  goalName: "ุชุญุณูู ูุนุฏู ุงูููู - ุงูุฏูุนุฉ 1",
  goalType: "adg",
  targetValue: "1.2",
  currentValue: "0.95",
  unit: "ูุฌู/ููู",
  batchId: "batch-001",
  priority: "high",
  status: "active",
  startDate: "2025-01-01",
  endDate: "2025-03-31",
  description: "ุงููุตูู ููุนุฏู ููู 1.2 ูุฌู ููููุงู ุจููุงูุฉ ุงูุฏูุฑุฉ"
}
```

**ุงููุชูุฌุฉ:**
- ุงูุชูุฏู: (0.95 / 1.2) ร 100 = **79.2%** ๐ต
- ุงูุญุงูุฉ: ูุฑูุจ ูู ุงููุฏู
- ุงูุฅุฌุฑุงุก: ูุชุงุจุนุฉ ุงูุชุบุฐูุฉ ูุชุญุณูู ุงูุนูู

### ูุซุงู 2: ูุฏู ุชูููู ุงูุชูููุฉ
```typescript
{
  goalName: "ุชูููู ุงูุชูููุฉ ููู ุฑุฃุณ",
  goalType: "cost_per_head",
  targetValue: "2000",
  currentValue: "2150",
  unit: "ุฌ",
  priority: "critical",
  status: "active",
  description: "ุชูููู ุงูุชูููุฉ ูู 2150 ุฌ ุฅูู 2000 ุฌ ููู ุฑุฃุณ"
}
```

**ุงููุชูุฌุฉ:**
- ุงูุชูุฏู: (2000 / 2150) ร 100 = **93.0%** ๐ต
- ุงููุงุฑู: 150 ุฌ ูุชุจููุฉ ููุชูููุฑ
- ุงูุฅุฌุฑุงุก: ุชุญุณูู ููุงุกุฉ ุงูุฃุนูุงู ูุชูููู ุงููุฏุฑ

### ูุซุงู 3: ูุฏู ูุนุฏู ุงูุจูุงุก
```typescript
{
  goalName: "ุฑูุน ูุนุฏู ุงูุจูุงุก ุนูู ููุฏ ุงูุญูุงุฉ",
  goalType: "survival_rate",
  targetValue: "97",
  currentValue: "98.5",
  unit: "%",
  status: "achieved",
  achievedDate: "2025-02-15",
  priority: "high"
}
```

**ุงููุชูุฌุฉ:**
- ุงูุชูุฏู: (98.5 / 97) ร 100 = **101.5%** โ
- ุงูุญุงูุฉ: **ูุญูู** ๐
- ุชู ุงูุชุญููู ูู: 15 ูุจุฑุงูุฑ 2025

---

## ๐ ุงูุชูุจููุงุช ูุงูุฅุดุนุงุฑุงุช

### ูุชู ุชุธูุฑ ุงูุชูุจููุงุชุ

#### 1. ุนูุฏ ุชุญููู ุงููุฏู (100%+)
```typescript
if (progress >= 100 && status === "active") {
  toast({
    title: "๐ ุชู ุชุญููู ุงููุฏู!",
    description: `ุชูุงูููุง! ุชู ุชุญููู ูุฏู "${goalName}"`,
    variant: "success"
  });
  
  // ุชุญุฏูุซ ุงูุญุงูุฉ
  updateGoal({ 
    status: "achieved",
    achievedDate: new Date()
  });
}
```

#### 2. ุชุญุฐูุฑ ุนูุฏ ุงูุชุฑุงุจ ุงูููุนุฏ ุงูููุงุฆู
```typescript
const daysLeft = Math.floor((endDate - now) / (1000 * 60 * 60 * 24));

if (daysLeft <= 7 && progress < 80) {
  toast({
    title: "โ๏ธ ุชุญุฐูุฑ!",
    description: `ุจูู ${daysLeft} ุฃูุงู ูุงูุชูุงุก ุงููุฏู "${goalName}" ูุงูุชูุฏู ${progress}%`,
    variant: "warning"
  });
}
```

#### 3. ุนูุฏ ูุดู ุงููุฏู
```typescript
if (now > endDate && progress < 100) {
  toast({
    title: "โ ูุดู ุงููุฏู",
    description: `ูู ูุชู ุชุญููู ูุฏู "${goalName}" ูู ุงูููุนุฏ ุงููุญุฏุฏ`,
    variant: "destructive"
  });
  
  updateGoal({ status: "failed" });
}
```

---

## ๐ ุงูุชุญุฏูุซ ุงูุชููุงุฆู

### ููู ูุชู ุชุญุฏูุซ ุงูููู ุงูุญุงููุฉุ

```typescript
// ุฏุงูุฉ ุชุญุฏูุซ ุงูุฃูุฏุงู ุจูุงุกู ุนูู ูุคุดุฑุงุช ุงูุฃุฏุงุก
async function updateGoalsFromKPIs() {
  const goals = await getActiveGoals();
  const kpis = await calculateCurrentKPIs();
  
  for (const goal of goals) {
    let currentValue = 0;
    
    switch (goal.goalType) {
      case "adg":
        currentValue = kpis.adg;
        break;
      case "fcr":
        currentValue = kpis.fcr;
        break;
      case "survival_rate":
        currentValue = kpis.survivalRate;
        break;
      case "cost_per_head":
        currentValue = kpis.costPerHead;
        break;
      // ... ุจููุฉ ุงูุฃููุงุน
    }
    
    await updateGoal(goal.id, { currentValue });
    
    // ูุญุต ุฅุฐุง ุชู ุชุญููู ุงููุฏู
    const progress = calculateProgress(goal, currentValue);
    if (progress >= 100) {
      await achieveGoal(goal.id);
    }
  }
}

// ุชุดุบูู ูู 24 ุณุงุนุฉ
setInterval(updateGoalsFromKPIs, 24 * 60 * 60 * 1000);
```

---

## ๐ ุงูุชูุงูู ูุน ุตูุญุฉ KPI

### ุฅุถุงูุฉ ูุคุดุฑ ุงูุฃูุฏุงู ูู ุตูุญุฉ KPI:

```typescript
// ูู ุตูุญุฉ KPI.tsx
const { data: activeGoals } = useQuery({
  queryKey: ["/api/performance-goals/active"],
});

// ุนุฑุถ ุงูุฃูุฏุงู ุฐุงุช ุงูุตูุฉ
<Card>
  <CardHeader>
    <CardTitle>ุงูุฃูุฏุงู ุงููุฑุชุจุทุฉ</CardTitle>
  </CardHeader>
  <CardContent>
    {activeGoals?.filter(g => g.goalType === "adg").map(goal => (
      <div key={goal.id} className="flex items-center gap-2">
        <Target className="h-4 w-4" />
        <span>{goal.goalName}</span>
        <Badge>{calculateProgress(goal)}%</Badge>
      </div>
    ))}
  </CardContent>
</Card>
```

---

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุณููุงุฑูู 1: ุจุฏุงูุฉ ุฏูุฑุฉ ุฌุฏูุฏุฉ
```
1. ุฅูุดุงุก ุฏูุนุฉ ุฌุฏูุฏุฉ
2. ุชุญุฏูุฏ ุฃูุฏุงู ุงูุฏูุนุฉ:
   - ADG: 1.2 ูุฌู/ููู
   - FCR: 2.5 ุฃู ุฃูู
   - ูุนุฏู ุงูุจูุงุก: 97% ุฃู ุฃูุซุฑ
   - ุงูุชูููุฉ/ุฑุฃุณ: 2000 ุฌ ุฃู ุฃูู
3. ูุฑุงูุจุฉ ุงูุชูุฏู ููููุงู
4. ุชุนุฏูู ุงูุงุณุชุฑุงุชูุฌูุฉ ุญุณุจ ุงูุญุงุฌุฉ
```

### ุณููุงุฑูู 2: ุชุญุณูู ุงูุฃุฏุงุก
```
1. ูุฑุงุฌุนุฉ ุงูุฃูุฏุงู ุงููุงุดูุฉ ุงูุณุงุจูุฉ
2. ุชุญููู ุงูุฃุณุจุงุจ
3. ุชุญุฏูุฏ ุฃูุฏุงู ูุงูุนูุฉ ุฌุฏูุฏุฉ
4. ุชุชุจุน ุงูุชุญุณููุงุช
```

### ุณููุงุฑูู 3: ุงูููุงูุณุฉ ูุงูุชุญููุฒ
```
1. ุชุญุฏูุฏ ุฃูุฏุงู ุชุญุฏู ูููุฑูู
2. ููุงูุขุช ุนูุฏ ุชุญููู ุงูุฃูุฏุงู ุงูุญุฑุฌุฉ
3. ุนุฑุถ ููุญุฉ ุงูุตุฏุงุฑุฉ
4. ุชูุงุฑูุฑ ุฃุณุจูุนูุฉ ููุชูุฏู
```

---

## โ ุงูุฎูุงุตุฉ

### ูุง ุชู ุฅูุฌุงุฒู:
- โ ุฌุฏูู `performance_goals` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุตูุญุฉ `/goals` ูุฅุฏุงุฑุฉ ุงูุฃูุฏุงู
- โ ูุคุดุฑุงุช ุจุตุฑูุฉ ูุชุทูุฑุฉ
- โ ุญุณุงุจ ุชููุงุฆู ููุชูุฏู
- โ ุฃููุงู ุฏููุงููููุฉ ุญุณุจ ุงูุญุงูุฉ
- โ ุฅุญุตุงุฆูุงุช ุดุงููุฉ

### ุงููุงุฏู (ูุณุชูุจูุงู):
- โณ ูููุฐุฌ ุฅุถุงูุฉ/ุชุนุฏูู ุงูุฃูุฏุงู
- โณ API endpoints ููุฃูุฏุงู
- โณ ุชุญุฏูุซ ุชููุงุฆู ูู KPIs
- โณ ุฅุดุนุงุฑุงุช push ุนูุฏ ุชุญููู ุงูุฃูุฏุงู
- โณ ุชูุงุฑูุฑ ุชูุตูููุฉ
- โณ ุชุตุฏูุฑ ุงูุฃูุฏุงู PDF/Excel

**ุงูุชุงุฑูุฎ:** 11 ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ุงููุงุฌูุฉ ุฌุงูุฒุฉ - ุจุงูุชุธุงุฑ API
