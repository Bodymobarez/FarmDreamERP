# ุชุญุฏูุซ ุตูุญุฉ ุชุณุฌูู ุงูุฃูุฒุงู - Weights Page Update

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ุตูุญุฉ ุชุณุฌูู ุงูุฃูุฒุงู ุจุงููุงูู ูุชูููุฑ ูุธุงู ุดุงูู ููุชุงุจุนุฉ ุฃูุฒุงู ุงูุญููุงูุงุช ููุนุฏูุงุช ุงูููู ูุน ุชูุงุฑูุฑ ุชูุตูููุฉ ููู ุญููุงู.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ููุญุฉ ุงูุฅุญุตุงุฆูุงุช (Statistics Dashboard)
ุชุนุฑุถ 4 ุจุทุงูุงุช ุฑุฆูุณูุฉ:
- **ุฅุฌูุงูู ุงูุญููุงูุงุช**: ุนุฏุฏ ุงูุญููุงูุงุช ุงูููู ูุนุฏุฏ ุงููุดุท ูููุง
- **ูุชูุณุท ุงููุฒู ุงูุญุงูู**: ูุชูุณุท ูุฒู ุฌููุน ุงูุญููุงูุงุช
- **ูุชูุณุท ุงูุฒูุงุฏุฉ**: ูุชูุณุท ุฒูุงุฏุฉ ุงููุฒู ููุฐ ุงูุฏุฎูู
- **ูุนุฏู ุงูููู**: ูุชูุณุท ูุนุฏู ุงูุฒูุงุฏุฉ ุงูููููุฉ (ADG) ุงูุชูุฑูุจู

### 2. ุนุฑุถ ุณุฌูุงุช ุงูุฃูุฒุงู (Weight Records Table)
ุฌุฏูู ุดุงูู ูุนุฑุถ:
- ุฑูู ุงูุฃุฐู (Ear Tag)
- ููุน ุงูุญููุงู
- ุงูุฌูุณ
- ุงูุนูุจุฑ (Pen)
- ูุฒู ุงูุฏุฎูู
- ุงููุฒู ุงูุญุงูู
- ุงูุฒูุงุฏุฉ ูู ุงููุฒู (ุจุฃููุงู ูููุฒุฉ)
- ูุนุฏู ุงูุฒูุงุฏุฉ ุงูููููุฉ (ADG - Average Daily Gain)
- ุงูุญุงูุฉ (ูุดุท/ูุจุงุน)
- ุฒุฑ ุนุฑุถ ุงูุชูุงุตูู ููู ุญููุงู

### 3. ุงูููุงุชุฑ ูุงูุจุญุซ (Filters & Search)
- **ุงูุจุญุซ**: ุงูุจุญุซ ุจุฑูู ุงูุฃุฐู
- **ููุชุฑ ุงูููุน**: ุชุตููุฉ ุญุณุจ ููุน ุงูุญููุงู (ุนุฌููุ ุฃุจูุงุฑุ ุฅูุฎ)
- ุชุญุฏูุซ ููุฑู ูููุชุงุฆุฌ

### 4. ูุงูุฐุฉ ุงูุชูุงุตูู ุงูููุจุซูุฉ (Details Dialog)
ุนูุฏ ุงูููุฑ ุนูู "ุนุฑุถ ุงูุชูุงุตูู" ูุฃู ุญููุงูุ ุชุธูุฑ ูุงูุฐุฉ ุดุงููุฉ ุชุญุชูู ุนูู:

#### ุฃ. ุจุทุงูุงุช ุงูููุฎุต (Summary Cards)
- ุงูููุน
- ูุฒู ุงูุฏุฎูู
- ุงููุฒู ุงูุญุงูู
- ุฅุฌูุงูู ุงูุฒูุงุฏุฉ

#### ุจ. ุฌุฏูู ุณุฌู ุงูุฃูุฒุงู (Weight History Table)
ุฌุฏูู ุชูุตููู ูุนุฑุถ ูุฑุงุญู ูุฒู ุงูุญููุงู:
- **ุงูุชุงุฑูุฎ**: ุชุงุฑูุฎ ูู ููุงุณ
- **ุงูุฃูุงู ุงููููุถูุฉ**: ุนุฏุฏ ุงูุฃูุงู ูู ุชุงุฑูุฎ ุงูุฏุฎูู
- **ุงููุฒู**: ุงููุฒู ูู ุฐูู ุงูุชุงุฑูุฎ
- **ุงูุฒูุงุฏุฉ ุงูุฃุณุจูุนูุฉ**: ุฒูุงุฏุฉ ุงููุฒู ุฎูุงู ุงูุฃุณุจูุน
- **ูุนุฏู ุงูุฒูุงุฏุฉ ุงูููููุฉ**: ูุชูุณุท ุงูุฒูุงุฏุฉ ุงูููููุฉ (ADG)
- **ุงูุฒูุงุฏุฉ ุงูุชุฑุงูููุฉ**: ุฅุฌูุงูู ุงูุฒูุงุฏุฉ ููุฐ ุงูุฏุฎูู

#### ุฌ. ุชุญููู ุงูุฃุฏุงุก (Performance Analysis)
3 ุจุทุงูุงุช ุชุญููููุฉ:
- **ูุนุฏู ุงูุฒูุงุฏุฉ ุงูููููุฉ (ADG)**: ุจุงูููููุฌุฑุงู/ููู
- **ูุณุจุฉ ุงูุฒูุงุฏุฉ**: ุงููุณุจุฉ ุงููุฆููุฉ ูุฒูุงุฏุฉ ุงููุฒู
- **ุนุฏุฏ ุงูููุงุณุงุช**: ุนุฏุฏ ูุฑุงุช ููุงุณ ุงููุฒู

### 5. ูุธุงุฆู ุงูุชุตุฏูุฑ (Export Functions)
- **ุชุตุฏูุฑ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ**: 
  - PDF: ุชูุฑูุฑ ุดุงูู ุจุฌููุน ุงูุญููุงูุงุช
  - Excel: ุฌุฏูู ุจูุงูุงุช ูุงุจู ููุชุนุฏูู
  - CSV: ููู CSV ููุงุณุชุฎุฏุงู ูู ุจุฑุงูุฌ ุฃุฎุฑู

- **ุชุตุฏูุฑ ุชูุฑูุฑ ูุฑุฏู**: 
  - ุชุตุฏูุฑ ุชูุฑูุฑ PDF ููุตู ููู ุญููุงู ูุญุชูู ุนูู ุณุฌู ุงูุฃูุฒุงู ุงููุงูู

## ุงูุชูุงุตูู ุงูุชูููุฉ

### 1. ูุนุงุฏูุงุช ุงูุญุณุงุจ

#### Average Daily Gain (ADG)
```typescript
ADG = (ุงููุฒู ุงูุญุงูู - ูุฒู ุงูุฏุฎูู) / ุนุฏุฏ ุงูุฃูุงู ููุฐ ุงูุฏุฎูู
```

#### ูุนุฏู ุงูุฒูุงุฏุฉ ุงูุฃุณุจูุนูุฉ
```typescript
Weekly Gain = ADG ร 7
```

#### ุงูุฒูุงุฏุฉ ุงูุชุฑุงูููุฉ
```typescript
Cumulative Gain = ุงููุฒู ุงูุญุงูู - ูุฒู ุงูุฏุฎูู
```

#### ูุณุจุฉ ุงูุฒูุงุฏุฉ
```typescript
Growth Percentage = ((ุงููุฒู ุงูุญุงูู - ูุฒู ุงูุฏุฎูู) / ูุฒู ุงูุฏุฎูู) ร 100
```

### 2. ุชูููุฏ ุณุฌู ุงูุฃูุฒุงู (Weight History Generation)

ูุธุฑูุง ูุนุฏู ูุฌูุฏ ุฌุฏูู `animalWeights` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุญุงูููุงุ ูุชู ุชูููุฏ ุณุฌู ุงูุฃูุฒุงู ุจุดูู ุชูุฏูุฑู:

```typescript
const generateWeightHistory = (animal) => {
  // ุญุณุงุจ ุงูุฒูุงุฏุฉ ุงูููููุฉ
  const dailyGain = (currentWeight - entryWeight) / daysSinceEntry;
  
  // ุชูููุฏ ููุงุณุงุช ุฃุณุจูุนูุฉ
  for (let i = 0; i <= weeks; i++) {
    const daysElapsed = i * 7;
    const weight = entryWeight + (dailyGain * daysElapsed);
    // ... ุฅุถุงูุฉ ุงูููุงุณ ููุณุฌู
  }
}
```

### 3. ูุตุฏุฑ ุงูุจูุงูุงุช
```typescript
// Fetch from animals API
const { data: animals = [], isLoading } = useQuery({
  queryKey: ["/api/animals"],
});
```

### 4. ุงูุญุงูุงุช ุงููุนุงูุฌุฉ
- โ Loading state: ุนุฑุถ ุฑุณุงูุฉ "ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช"
- โ Empty state: ุนุฑุถ ุฑุณุงูุฉ "ูุง ุชูุฌุฏ ุญููุงูุงุช ูุณุฌูุฉ"
- โ Filtered results: ุงูุชุญุฏูุซ ุงูููุฑู ุญุณุจ ุงูููุงุชุฑ
- โ No weight gain: ูุนุงูุฌุฉ ุงูุญุงูุงุช ุงูุชู ูุง ุชูุฌุฏ ูููุง ุฒูุงุฏุฉ

## ุงุณุชุฎุฏุงู ุงูุตูุญุฉ

### ุนุฑุถ ุฌููุน ุงูุฃูุฒุงู
1. ุงูุชุญ ุตูุญุฉ "ุชุณุฌูู ุงูุฃูุฒุงู" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
2. ุณุชุธูุฑ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุฃุนูู
3. ุงุณุชุนุฑุถ ุฌุฏูู ุฌููุน ุงูุญููุงูุงุช ูุน ุฃูุฒุงููู ุงูุญุงููุฉ

### ุงูุจุญุซ ูุงูููุชุฑุฉ
1. ุงุณุชุฎุฏู ุญูู ุงูุจุญุซ ููุจุญุซ ุจุฑูู ุงูุฃุฐู
2. ุงุณุชุฎุฏู ูุงุฆูุฉ ุงูููุน ูุชุตููุฉ ุญุณุจ ููุน ูุนูู
3. ุงููุชุงุฆุฌ ุชุชุญุฏุซ ููุฑููุง

### ุนุฑุถ ุชูุงุตูู ุญููุงู ูุนูู
1. ุงููุฑ ุนูู ุฒุฑ "ุนุฑุถ ุงูุชูุงุตูู" ุจุฌูุงุฑ ุฃู ุญููุงู
2. ุณุชุธูุฑ ูุงูุฐุฉ ููุจุซูุฉ ุชุญุชูู ุนูู:
   - ููุฎุต ุงูุฃูุฒุงู
   - ุณุฌู ุงูุฃูุฒุงู ุงูุชูุตููู (ุฃุณุจูุนู)
   - ุชุญููู ุงูุฃุฏุงุก
3. ููููู ุชุตุฏูุฑ ุชูุฑูุฑ ุงูุญููุงู ูู ูุฐู ุงููุงูุฐุฉ

### ุงูุชุตุฏูุฑ
#### ุชุตุฏูุฑ ุงููุงุฆูุฉ ุงููููุฉ:
- ุงููุฑ ุนูู ุฒุฑ PDF/Excel/CSV ูู ุฑุฃุณ ุงูุฌุฏูู
- ุณูุชู ุชูุฒูู ุงูููู ุชููุงุฆููุง

#### ุชุตุฏูุฑ ุชูุฑูุฑ ูุฑุฏู:
- ุงูุชุญ ุชูุงุตูู ุงูุญููุงู
- ุงููุฑ ุนูู "ุชุตุฏูุฑ ุงูุชูุฑูุฑ"
- ุณูุชู ุชูุฒูู PDF ูุญุชูู ุนูู ุณุฌู ุงูุฃูุฒุงู ุงููุงูู

## ุงููููุงุช ุงููุนุฏูุฉ

### client/src/pages/Weights.tsx
**ุงูุชุบููุฑุงุช:**
- โ ุฅุถุงูุฉ ุจุทุงูุงุช ุงูุฅุญุตุงุฆูุงุช (4 cards)
- โ ุฌุฏูู ุดุงูู ุจุฌููุน ุจูุงูุงุช ุงูุฃูุฒุงู
- โ ูุธุงู ุงูุจุญุซ ูุงูููุชุฑุฉ
- โ ูุงูุฐุฉ ุงูุชูุงุตูู ุงูููุจุซูุฉ
- โ ุฌุฏูู ุณุฌู ุงูุฃูุฒุงู ุงูุชูุตููู
- โ ุฏุงูุฉ ุชูููุฏ ุณุฌู ุงูุฃูุฒุงู `generateWeightHistory()`
- โ ุฏุงูุฉ ุญุณุงุจ ADG `calculateADG()`
- โ ูุธุงุฆู ุงูุชุตุฏูุฑ (PDF/Excel/CSV)
- โ ุชุญููู ุงูุฃุฏุงุก
- โ ูุนุงูุฌุฉ ุญุงูุงุช ุงูุชุญููู ูุงููุฑุงุบ

**ุงูุฃููุงุฏ ุงูุฑุฆูุณูุฉ:**
```typescript
// Statistics calculation
const stats = {
  totalAnimals: animals.length,
  activeAnimals: animals.filter(a => a.status === "ูุดุท").length,
  avgCurrentWeight: ...,
  avgWeightGain: ...,
};

// ADG calculation
const calculateADG = (animal) => {
  const gain = currentWeight - entryWeight;
  const days = daysSinceEntry;
  return (gain / days).toFixed(2);
};

// Weight history generation
const generateWeightHistory = (animal) => {
  // ุชูููุฏ ููุงุณุงุช ุฃุณุจูุนูุฉ ูู ุงูุฏุฎูู ุญุชู ุงูุขู
  // ุญุณุงุจ ุงูุฒูุงุฏุฉ ุงูุฃุณุจูุนูุฉ ูุงูุชุฑุงูููุฉ
};
```

## ูููุฒุงุช ุฅุถุงููุฉ

### 1. ุงูุฃููุงู ุงูุชูุงุนููุฉ
- ๐ข ุงูุฒูุงุฏุฉ ุงูููุฌุจุฉ: ุฃุฎุถุฑ
- ๐ต ูุนุฏู ADG: ุฃุฒุฑู
- โช ุงูููู ุงูุตูุฑูุฉ: ุฑูุงุฏู

### 2. ุงูุฃููููุงุช ุงูุชูุถูุญูุฉ
- ๐ฆ Package: ุฅุฌูุงูู ุงูุญููุงูุงุช
- โ๏ธ Scale: ุงูุฃูุฒุงู
- ๐ TrendingUp: ุงูุฒูุงุฏุฉ
- ๐ Activity: ูุนุฏู ุงูููู
- ๐๏ธ Eye: ุนุฑุถ ุงูุชูุงุตูู
- ๐ Calendar: ุงูุชูุงุฑูุฎ

### 3. ุงูุงุณุชุฌุงุจุฉ (Responsive)
- ุชุฎุทูุท ูุชุฌุงูุจ ุนูู ุฌููุน ุงูุฃุญุฌุงู
- ุงูุจุทุงูุงุช ุชุชูุฒุน ุจุดูู ููุงุณุจ (4 ุนูู ุงูุดุงุดุงุช ุงููุจูุฑุฉุ 1-2 ุนูู ุงูุตุบูุฑุฉ)
- ุฌุฏูู ูุงุจู ููุชูุฑูุฑ ุนูู ุงูุดุงุดุงุช ุงูุตุบูุฑุฉ

## ููุงุญุธุงุช ูููุฉ

### โ๏ธ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
ุญุงูููุงุ ูุชู **ุชูููุฏ ุณุฌู ุงูุฃูุฒุงู ุจุดูู ุชูุฏูุฑู** ูุฃู:
- ูุง ููุฌุฏ ุฌุฏูู `animalWeights` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงููุชููุฑ ููุท: `entryWeight` ู `currentWeight` ูู ุฌุฏูู `animals`

### ๐ฎ ููุงุณุชุฎุฏุงู ุงููุนูู (Production)
ูููุตุญ ุจุฅุถุงูุฉ ุฌุฏูู ูุชุณุฌููุงุช ุงูุฃูุฒุงู:

```typescript
// Schema suggestion
export const animalWeights = pgTable("animal_weights", {
  id: varchar("id").primaryKey(),
  animalId: varchar("animal_id").notNull(),
  weightDate: timestamp("weight_date").notNull(),
  weight: decimal("weight", { precision: 10, scale: 2 }).notNull(),
  notes: text("notes"),
  recordedBy: varchar("recorded_by"),
  createdAt: timestamp("created_at").notNull(),
});
```

ุซู ุฅุถุงูุฉ API endpoints:
- `GET /api/animal-weights/:animalId` - ุฌูุจ ุณุฌู ุฃูุฒุงู ุญููุงู
- `POST /api/animal-weights` - ุฅุถุงูุฉ ููุงุณ ูุฒู ุฌุฏูุฏ
- `DELETE /api/animal-weights/:id` - ุญุฐู ููุงุณ

## ุงูุฎูุงุตุฉ

ุชู ุชุทููุฑ ุตูุญุฉ ุชุณุฌูู ุงูุฃูุฒุงู ุจูุฌุงุญ ูุชุตุจุญ:
- โ ูุธุงู ุดุงูู ููุชุงุจุนุฉ ุฃูุฒุงู ุงูุญููุงูุงุช
- โ ุชูุงุฑูุฑ ุชูุตูููุฉ ููู ุญููุงู ุชุธูุฑ ูุฑุงุญู ุงูููู
- โ ุญุณุงุจุงุช ุฏูููุฉ ููุนุฏูุงุช ุงูุฒูุงุฏุฉ (ADG)
- โ ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- โ ูุธุงุฆู ุชุตุฏูุฑ ูุชุนุฏุฏุฉ
- โ ูุงุฌูุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู
- โ ุชุตููู ูุชุฌุงูุจ

ุงูุตูุญุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุงูููุฑูุ ููููู ุชุญุณูููุง ูุงุญููุง ุจุฅุถุงูุฉ ุฌุฏูู ุชุณุฌููุงุช ุงูุฃูุฒุงู ุงููุนููุฉ.
